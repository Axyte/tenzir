"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[20519],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=l(r),m=o,f=c["".concat(s,".").concat(m)]||c[m]||d[m]||a;return r?n.createElement(f,i(i({ref:t},u),{},{components:r})):n.createElement(f,i({ref:t},u))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[c]="string"==typeof e?e:o,i[1]=p;for(var l=2;l<a;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},54564:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>y,contentTitle:()=>h,default:()=>k,frontMatter:()=>f,metadata:()=>g,toc:()=>b});var n=r(3905),o=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(p)for(var r of p(t))l.call(t,r)&&u(e,r,t[r]);return e},d=(e,t)=>a(e,i(t)),m=(e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&p)for(var n of p(e))t.indexOf(n)<0&&l.call(e,n)&&(r[n]=e[n]);return r};const f={sidebar_position:4},h="Export from a node",g={unversionedId:"user-guides/export-from-a-node",id:"user-guides/export-from-a-node",title:"Export from a node",description:"Exporting (or querying) data is equivalent to [running a",source:"@site/docs/user-guides/export-from-a-node.md",sourceDirName:"user-guides",slug:"/user-guides/export-from-a-node",permalink:"/next/user-guides/export-from-a-node",draft:!1,editUrl:"https://github.com/tenzir/tenzir/tree/main/web/docs/user-guides/export-from-a-node.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Import into a node",permalink:"/next/user-guides/import-into-a-node"},next:{title:"Show available schemas",permalink:"/next/user-guides/show-available-schemas"}},y={},b=[],x={toc:b},v="wrapper";function k(e){var t=e,{components:r}=t,o=m(t,["components"]);return(0,n.kt)(v,d(c(c({},x),o),{components:r,mdxType:"MDXLayout"}),(0,n.kt)("h1",c({},{id:"export-from-a-node"}),"Export from a node"),(0,n.kt)("p",null,"Exporting (or ",(0,n.kt)("em",{parentName:"p"},"querying"),") data is equivalent to ",(0,n.kt)("a",c({parentName:"p"},{href:"/next/user-guides/run-a-pipeline"}),"running a\npipeline")," that begins with the\n",(0,n.kt)("a",c({parentName:"p"},{href:"/next/operators/sources/export"}),(0,n.kt)("inlineCode",{parentName:"a"},"export"))," source."),(0,n.kt)("p",null,"Let's bring back the historical data we ",(0,n.kt)("a",c({parentName:"p"},{href:"/next/user-guides/import-into-a-node"}),"imported in the previous\nsection"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-bash"}),"tenzir 'export | head'\n")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"export")," operator requires a node execution context. To invoke the above\npipeline successfully, you need to have ",(0,n.kt)("a",c({parentName:"p"},{href:"/next/user-guides/spawn-a-node"}),"spawned a node"),"\npreviously. Think of ",(0,n.kt)("inlineCode",{parentName:"p"},"export")," being the entire data at a node. As this can grow\nquickly, you may query only subsets of it, e.g., by filtering it using\n",(0,n.kt)("a",c({parentName:"p"},{href:"/next/operators/transformations/where"}),(0,n.kt)("inlineCode",{parentName:"a"},"where")),":"),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-bash"}),"tenzir 'export | where orig_bytes < 1 KiB'\n")),(0,n.kt)("p",null,"Logically, this query would ",(0,n.kt)("em",{parentName:"p"},"first")," export the entire historical data, and\n",(0,n.kt)("em",{parentName:"p"},"then")," begin filtering the data. But since Tenzir does ",(0,n.kt)("em",{parentName:"p"},"predicate pushdown"),", the\npipeline executor will analyze the query and push the\n",(0,n.kt)("a",c({parentName:"p"},{href:"/next/language/expressions"}),"expression")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"where")," with the predicate\n",(0,n.kt)("inlineCode",{parentName:"p"},"orig_bytes < 1 KiB"),' "down" to the ',(0,n.kt)("inlineCode",{parentName:"p"},"export")," operator. Tenzir's storage engine\nthen asks its catalog to identify the relevant subset of partitions that the\nquery should execute on. This dramatically improves the query performance for\nselective workloads, such as point queries for single values or specific time\nranges."),(0,n.kt)("p",null,"To figure out the shape of the data to query, you can ",(0,n.kt)("a",c({parentName:"p"},{href:"/next/user-guides/show-available-schemas"}),"show available\nschemas"),"."))}k.isMDXComponent=!0}}]);